<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>선택한 음식 보여주기</title>
<script>
    window.addEventListener("storage",storageEventListener);
    window.onload=show;

    function storageEventListener(e) { // 웹 스토리지에 변화가 생길때 호출
	    show(); // 변화된 스토리지 출력
    }
    
    function show(){
        if(!window.localStorage){
            alert("지원하지 않습니다.");
            return; 
        }

        let div=document.getElementById("list");
        div.innerHTML="";
        for (let i = 0; i < localStorage.length; i++) {
            let key=localStorage.key(i);
            let value=localStorage.getItem(key);

            if(i == localStorage.length-1)
			    div.innerHTML += (key + "=" + value);
		    else
			    div.innerHTML += (key + "=" + value) + "<br>"; 
            
        }
    }

</script>
</head>
<body>
    <h3>선택한 음식 보여주기</h3>
    <hr>
    <div id="list">
        선택안했습니다.
    </div>
</body>
</html>
